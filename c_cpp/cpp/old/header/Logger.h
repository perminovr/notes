#ifndef LOGGER_H_
#define LOGGER_H_


#include <fstream>
#include <string>
#include "TON.h"


namespace perri {

/*! ----------------------------------------------------------------------------------------
 * @brief: Provides logging
 * -----------------------------------------------------------------------------------------
 * */
class Logger : public std::fstream {
public:
	/*! ------------------------------------------------------------------------------------
	 * @brief:
	 * -------------------------------------------------------------------------------------
	 * */
	enum MODE {
		OFF = 0,
		CONSOLE = 1,
		FILE = 2
	};

	/*! ------------------------------------------------------------------------------------
	 * @brief:
	 * -------------------------------------------------------------------------------------
	 * */
	Logger();

	/*! ------------------------------------------------------------------------------------
	 * @brief:
	 * -------------------------------------------------------------------------------------
	 * */
	~Logger();

	/*! ------------------------------------------------------------------------------------
	 * @brief:
	 * -------------------------------------------------------------------------------------
	 * */
	void SwitchMode(Logger::MODE mode);

	/*! ------------------------------------------------------------------------------------
	 * @brief:
	 * -------------------------------------------------------------------------------------
	 * */
	void toNull();

	/*! ------------------------------------------------------------------------------------
	 * @brief:
	 * -------------------------------------------------------------------------------------
	 * */
	void toConsole();

	/*! ------------------------------------------------------------------------------------
	 * @brief:
	 * -------------------------------------------------------------------------------------
	 * */
	void toFile();
	void toFile(const std::string &filename);

	/*! ------------------------------------------------------------------------------------
	 * @brief:
	 * -------------------------------------------------------------------------------------
	 * */
	const TON &GetTimer() const;

	/*! ------------------------------------------------------------------------------------
	 * @brief:
	 * -------------------------------------------------------------------------------------
	 * */
	Logger& operator<<(const TON &t);
	
private:	
	/*! ------------------------------------------------------------------------------------
	 * @brief:
	 * -------------------------------------------------------------------------------------
	 * */
	TON Time;	
};

}

#endif
